{"version":3,"file":"commonHelpers.js","sources":["../src/js/convertMs.js","../src/js/1-timer.js"],"sourcesContent":["function addLeadingZero(value) {\n    return String(value).padStart(2, \"0\");\n}\n\nexport function convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = addLeadingZero(Math.floor(ms / day));\n  // Remaining hours\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n  // Remaining minutes\n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  // Remaining seconds\n  const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n\n  return { days, hours, minutes, seconds };\n}\n\n// console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n// console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n// console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n","import { convertMs } from \"./convertMs\";\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst dateId = document.getElementById(\"datetime-picker\");\nconst startBtn = document.querySelector('[data-start]');\nconst daysTime = document.querySelector('[data-days]');\nconst hoursTime = document.querySelector('[data-hours]');\nconst minutesTime = document.querySelector('[data-minutes]');\nconst secondsTime = document.querySelector('[data-seconds]');\n\nlet userSelectedDate;\nlet timeDifference;\nlet currentDate = Date.now();\nstartBtn.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n     userSelectedDate = selectedDates[0].getTime();\n     console.log(userSelectedDate);\n     selectionDate();\n    },\n};\nflatpickr(dateId, options);\n\nfunction selectionDate() {\n    if (currentDate >= userSelectedDate) {\n        iziToast.error({\n        title: 'Error!',\n        message: \"Please choose a date in the future\"\n        });\n    } else {\n        startBtn.disabled = false;\n        timeDifference = userSelectedDate - currentDate;\n        updateClockFace(convertMs(timeDifference));\n    }\n}\n\nfunction updateClockFace({days, hours, minutes, seconds}) {\n    daysTime.textContent = `${days}`;\n    hoursTime.textContent = `${hours}`;\n    minutesTime.textContent = `${minutes}`;\n    secondsTime.textContent = `${seconds}`; \n}\n\nfunction timer() {\n    const intervalId = setInterval(() => {\n     if (timeDifference > 1000) {\n        timeDifference -= 1000;\n        updateClockFace(convertMs(timeDifference));\n     } else {\n        clearInterval(intervalId); \n     }\n    }, 1000);\n}\n\nstartBtn.addEventListener('click', () => {\n    timer();\n    startBtn.disabled = true;\n    dateId.disabled = true;\n});"],"names":["addLeadingZero","value","convertMs","ms","days","hours","minutes","seconds","dateId","startBtn","daysTime","hoursTime","minutesTime","secondsTime","userSelectedDate","timeDifference","currentDate","options","selectedDates","selectionDate","flatpickr","iziToast","updateClockFace","timer","intervalId"],"mappings":"2FAAA,SAASA,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEO,SAASC,EAAUC,EAAI,CAQ5B,MAAMC,EAAOJ,EAAe,KAAK,MAAMG,EAAK,KAAG,CAAC,EAE1CE,EAAQL,EAAe,KAAK,MAAOG,EAAK,MAAO,IAAI,CAAC,EAEpDG,EAAUN,EAAe,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,CAAC,EAEjEI,EAAUP,EAAe,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAElF,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CCdA,MAAMC,EAAS,SAAS,eAAe,iBAAiB,EAClDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EACAC,EACAC,EAAc,KAAK,MACvBP,EAAS,SAAW,GAEpB,MAAMQ,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACtBJ,EAAmBI,EAAc,CAAC,EAAE,QAAO,EAC3C,QAAQ,IAAIJ,CAAgB,EAC5BK,GACA,CACL,EACAC,EAAUZ,EAAQS,CAAO,EAEzB,SAASE,GAAgB,CACjBH,GAAeF,EACfO,EAAS,MAAM,CACf,MAAO,SACP,QAAS,oCACjB,CAAS,GAEDZ,EAAS,SAAW,GACpBM,EAAiBD,EAAmBE,EACpCM,EAAgBpB,EAAUa,CAAc,CAAC,EAEjD,CAEA,SAASO,EAAgB,CAAC,KAAAlB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAG,CACtDG,EAAS,YAAc,GAAGN,CAAI,GAC9BO,EAAU,YAAc,GAAGN,CAAK,GAChCO,EAAY,YAAc,GAAGN,CAAO,GACpCO,EAAY,YAAc,GAAGN,CAAO,EACxC,CAEA,SAASgB,GAAQ,CACb,MAAMC,EAAa,YAAY,IAAM,CAChCT,EAAiB,KAClBA,GAAkB,IAClBO,EAAgBpB,EAAUa,CAAc,CAAC,GAEzC,cAAcS,CAAU,CAE3B,EAAE,GAAI,CACX,CAEAf,EAAS,iBAAiB,QAAS,IAAM,CACrCc,IACAd,EAAS,SAAW,GACpBD,EAAO,SAAW,EACtB,CAAC"}